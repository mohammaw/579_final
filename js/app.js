
const quest_default = {
    "members": true,
    "questPoints": 2,
}
    const questData = {
            "quests": [
                {
                    ...quest_default,
                 "title": "Zogre Flesh Eaters",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Witch's House",
                 "difficulty": "Intermediate",
                 "questPoints": 4
                },
                {
                    ...quest_default,
                 "title": "What Lies Below",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Waterfall Quest",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Watchtower",
                 "difficulty": "Intermediate",
                 "questPoints": 4
                },
                {
                    ...quest_default,
                 "title": "Wanted!",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Underground Pass",
                 "difficulty": "Experienced",
                 "questPoints": 5
                },
                {
                    ...quest_default,
                 "title": "Troll Stronghold",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Troll Romance",
                 "difficulty": "Intermediate",
                },
                {
                    ...quest_default,
                 "title": "Tribal Totem",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Tree Gnome Village",
                 "difficulty": "Intermediate",
                },
                {
                    ...quest_default,
                 "title": "Tower of Life",
                 "difficulty": "Novice",
                },
                {
                    ...quest_default,
                 "title": "The Tourist Trap",
                 "difficulty": "Intermediate",
                },
                {
                    ...quest_default,
                 "title": "Throne of Miscellania",
                 "difficulty": "Experienced",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Temple of the Eye",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Temple of Ikov",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Tears of Guthix",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "A Taste of Hope",
                 "difficulty": "Experienced",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Tale of the Righteous",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "A Tail of Two CatsÂ ",
                 "difficulty": "Intermediate",
                },
                {
                    ...quest_default,
                 "title": "Tai Bwo Wannai Trio",
                 "difficulty": "Intermediate",
                },
                {
                    ...quest_default,
                 "title": "Swan Song",
                 "difficulty": "Master",
                },
                {
                    ...quest_default,
                 "title": "Spirits of the Elid",
                 "difficulty": "Intermediate",
                },
                {
                    ...quest_default,
                 "title": "A Soul's Bane",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Song of the Elves",
                 "difficulty": "Grandmaster",
                 "questPoints": 4
                },
                {
                    ...quest_default,
                 "title": "The Slug Menace",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Sleeping Giants",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Sins of the Father",
                 "difficulty": "Master",
                },
                {
                    ...quest_default,
                 "title": "Shilo Village",
                 "difficulty": "Intermediate",
                },
                {
                    ...quest_default,
                 "title": "Sheep Herder",
                 "difficulty": "Novice",
                 "questPoints": 4
                },
                {
                    ...quest_default,
                 "title": "Shadow of the Storm",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Shades of Mort'ton",
                 "difficulty": "Intermediate",
                 "questPoints": 3
                },
                {
                    ...quest_default,
                 "title": "Secrets of the North",
                 "difficulty": "Master",
                },
                {
                    ...quest_default,
                 "title": "Sea Slug",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Scorpion Catcher",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Rum Deal",
                 "difficulty": "Experienced",
                },
                {
                    ...quest_default,
                 "title": "Royal Trouble",
                 "difficulty": "Experienced",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Roving Elves",
                 "difficulty": "Experienced",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Regicide",
                 "difficulty": "Experienced",
                 "questPoints": 3
                },
                {
                    ...quest_default,
                 "title": "Recruitment Drive",
                 "difficulty": "Novice",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Recipe for Disaster",
                 "difficulty": "Grandmaster",
                 "questPoints": 10
                },
                {
                    ...quest_default,
                 "title": "Ratcatchers",
                 "difficulty": "Intermediate",
                },
                {
                    ...quest_default,
                 "title": "Rag and Bone Man II",
                 "difficulty": "Experienced",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Rag and Bone Man I",
                 "difficulty": "Novice",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "The Queen of Thieves",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Priest in Peril",
                 "difficulty": "Novice",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "A Porcine of Interest",
                 "difficulty": "Novice",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Plague City",
                 "difficulty": "Novice",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "The Path of Glouphrie",
                 "difficulty": "Experienced",
                },
                {
                    ...quest_default,
                 "title": "One Small Favour",
                 "difficulty": "Experienced",
                },
                {
                    ...quest_default,
                 "title": "Olaf's Quest",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Observatory Quest",
                 "difficulty": "Intermediate"
                },
                {
                    ...quest_default,
                 "title": "A Night at the Theatre",
                 "difficulty": "Master"
                },
                {
                    ...quest_default,
                 "title": "Nature Spirit",
                 "difficulty": "Intermediate"
                },
                {
                    ...quest_default,
                 "title": "My Arm's Big Adventure",
                 "difficulty": "Experienced",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Murder Mystery",
                 "difficulty": "Novice",
                 "questPoints": 3
                },
                {
                    ...quest_default,
                 "title": "Mourning's End Part II",
                 "difficulty": "Master"
                },
                {
                    ...quest_default,
                 "title": "Mourning's End Part I",
                 "difficulty": "Master"
                },
                {
                    ...quest_default,
                 "title": "Mountain Daughter",
                 "difficulty": "Intermediate"
                },
                {
                    ...quest_default,
                 "title": "Monkey Madness II",
                 "difficulty": "Grandmaster",
                 "questPoints": 4
                },
                {
                    ...quest_default,
                 "title": "Monkey Madness I",
                 "difficulty": "Master",
                 "questPoints": 3
                },
                {
                    ...quest_default,
                 "title": "Monk's Friend",
                 "difficulty": "Novice",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Merlin's Crystal",
                 "difficulty": "Intermediate",
                 "questPoints": 6
                },
                {
                    ...quest_default,
                 "title": "Making History",
                 "difficulty": "Intermediate",
                 "questPoints": 3
                },
                {
                    ...quest_default,
                 "title": "Making Friends with My Arm",
                 "difficulty": "Master"
                },
                {
                    ...quest_default,
                 "title": "Lunar Diplomacy",
                 "difficulty": "Experienced"
                },
                {
                    ...quest_default,
                 "title": "The Lost Tribe",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Lost City",
                 "difficulty": "Intermediate",
                 "questPoints": 3
                },
                {
                    ...quest_default,
                 "title": "Legends' Quest",
                 "difficulty": "Master",
                 "questPoints": 4
                },
                {
                    ...quest_default,
                 "title": "Land of the Goblins",
                 "difficulty": "Experienced"
                },
                {
                    ...quest_default,
                 "title": "A Kingdom Divided",
                 "difficulty": "Experienced"
                },
                {
                    ...quest_default,
                 "title": "King's Ransom",
                 "difficulty": "Experienced",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Jungle Potion",
                 "difficulty": "Novice",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "In Search of the Myreque",
                 "difficulty": "Intermediate"
                },
                {
                    ...quest_default,
                 "title": "In Aid of the Myreque",
                 "difficulty": "Intermediate"
                },
                {
                    ...quest_default,
                 "title": "Icthlarin's Little Helper",
                 "difficulty": "Intermediate"
                },
                {
                    ...quest_default,
                 "title": "Horror from the Deep",
                 "difficulty": "Intermediate"
                },
                {
                    ...quest_default,
                 "title": "Holy Grail",
                 "difficulty": "Intermediate"
                },
                {
                    ...quest_default,
                 "title": "Heroes' Quest",
                 "difficulty": "Experienced",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Hazeel Cult",
                 "difficulty": "Novice",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Haunted Mine",
                 "difficulty": "Experienced"
                },
                {
                    ...quest_default,
                 "title": "The Hand in the Sand",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Grim Tales",
                 "difficulty": "Master",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "The Great Brain Robbery",
                 "difficulty": "Experienced"
                },
                {
                    ...quest_default,
                 "title": "The Grand Tree",
                 "difficulty": "Intermediate",
                 "questPoints": 5
                },
                {
                    ...quest_default,
                 "title": "The Golem",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "The Giant Dwarf",
                 "difficulty": "Intermediate"
                },
                {
                    ...quest_default,
                 "title": "Ghosts Ahoy",
                 "difficulty": "Intermediate"
                },
                {
                    ...quest_default,
                 "title": "Getting Ahead",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Gertrude's Cat",
                 "difficulty": "Novice",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Garden of Tranquillity",
                 "difficulty": "Intermediate"
                },
                {
                    ...quest_default,
                 "title": "The Garden of Death",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "The Fremennik Trials",
                 "difficulty": "Intermediate",
                 "questPoints": 3
                },
                {
                    ...quest_default,
                 "title": "The Fremennik Isles",
                 "difficulty": "Experienced",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "The Fremennik Exiles",
                 "difficulty": "Master"
                },
                {
                    ...quest_default,
                 "title": "The Forsaken Tower",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Forgettable Tale...",
                 "difficulty": "Intermediate"
                },
                {
                    ...quest_default,
                 "title": "Fishing Contest",
                 "difficulty": "Novice",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Fight Arena",
                 "difficulty": "Intermediate"
                },
                {
                    ...quest_default,
                 "title": "The Feud",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Family Crest",
                 "difficulty": "Experienced",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Fairytale II - Cure a Queen",
                 "difficulty": "Experienced"
                },
                {
                    ...quest_default,
                 "title": "Fairytale I - Growing Pains",
                 "difficulty": "Intermediate"
                },
                {
                    ...quest_default,
                 "title": "The Eyes of Glouphrie",
                 "difficulty": "Intermediate"
                },
                {
                    ...quest_default,
                 "title": "Enlightened Journey",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Enakhra's Lament",
                 "difficulty": "Experienced"
                },
                {
                    ...quest_default,
                 "title": "Elemental Workshop II",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Elemental Workshop I",
                 "difficulty": "Novice",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Eagles' Peak",
                 "difficulty": "Novice"
                },
                {
                    ...quest_default,
                 "title": "Eadgar's Ruse",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Dwarf Cannon",
                 "difficulty": "Novice",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Druidic Ritual",
                 "difficulty": "Novice",
                 "questPoints": 4
                },
                {
                    ...quest_default,
                 "title": "Dream Mentor",
                 "difficulty": "Master"
                },
                {
                    ...quest_default,
                 "title": "Dragon Slayer II",
                 "difficulty": "Grandmaster",
                 "questPoints": 5
                },
                {
                    ...quest_default,
                 "title": "The Dig Site",
                 "difficulty": "Intermediate"
                },
                {
                    ...quest_default,
                 "title": "Devious Minds",
                 "difficulty": "Experienced",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Desert Treasure II - The Fallen Empire",
                 "difficulty": "Grandmaster",
                 "questPoints": 5
                },
                {
                    ...quest_default,
                 "title": "Desert Treasure I",
                 "difficulty": "Master",
                 "questPoints": 3
                },
                {
                    ...quest_default,
                 "title": "The Depths of Despair",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Defender of Varrock",
                 "difficulty": "Experienced"
                },
                {
                    ...quest_default,
                 "title": "Death to the Dorgeshuun",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Death Plateau",
                 "difficulty": "Novice",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Darkness of Hallowvale",
                 "difficulty": "Experienced"
                },
                {
                    ...quest_default,
                 "title": "Creature of Fenkenstrain",
                 "difficulty": "Intermediate"
                },
                {
                    ...quest_default,
                 "title": "Contact!",
                 "difficulty": "Experienced",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Cold War",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Clock Tower",
                 "difficulty": "Novice",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Client of Kourend",
                 "difficulty": "Novice",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Children of the Sun",
                 "difficulty": "Novice",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Cabin Fever",
                 "difficulty": "Experienced"
                },
                {
                    ...quest_default,
                 "title": "Bone Voyage",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Biohazard",
                 "difficulty": "Novice",
                 "questPoints": 3
                },
                {
                    ...quest_default,
                 "title": "Big Chompy Bird Hunting",
                 "difficulty": "Intermediate"
                },
                {
                    ...quest_default,
                 "title": "Between a Rock...",
                 "difficulty": "Experienced"
                },
                {
                    ...quest_default,
                 "title": "Beneath Cursed Sands",
                 "difficulty": "Master"
                },
                {
                    ...quest_default,
                 "title": "The Ascent of Arceuus",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Another Slice of H.A.M.",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Animal Magnetism",
                 "difficulty": "Intermediate",
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "X Marks the Spot",
                 "difficulty": "Novice",
                 "members": false,
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Witch's Potion",
                 "difficulty": "Novice",
                 "members": false,
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Vampyre Slayer",
                 "difficulty": "Intermediate",
                 "members": false,
                 "questPoints": 3
                },
                {
                    ...quest_default,
                 "title": "Shield of Arrav",
                 "difficulty": "Novice",
                 "members": false,
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Sheep Shearer",
                 "difficulty": "Novice",
                 "members": false,
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Rune Mysteries",
                 "difficulty": "Novice",
                 "members": false,
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Romeo & Juliet",
                 "difficulty": "Novice",
                 "members": false,
                 "questPoints": 5
                },
                {
                    ...quest_default,
                 "title": "The Restless Ghost",
                 "difficulty": "Novice",
                 "members": false,
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Prince Ali Rescue",
                 "difficulty": "Novice",
                 "members": false,
                 "questPoints": 3
                },
                {
                    ...quest_default,
                 "title": "Pirate's Treasure",
                 "difficulty": "Novice",
                 "members": false,
                },
                {
                    ...quest_default,
                 "title": "Misthalin Mystery",
                 "difficulty": "Novice",
                 "members": false,
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "The Knight's Sword",
                 "difficulty": "Intermediate",
                 "members": false,
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Imp Catcher",
                 "difficulty": "Novice",
                 "members": false,
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Goblin Diplomacy",
                 "difficulty": "Novice",
                 "members": false,
                 "questPoints": 5
                },
                {
                    ...quest_default,
                 "title": "Ernest the Chicken",
                 "difficulty": "Novice",
                 "members": false,
                 "questPoints": 4
                },
                {
                    ...quest_default,
                 "title": "Dragon Slayer I",
                 "difficulty": "Experienced",
                 "members": false,
                },
                {
                    ...quest_default,
                 "title": "Doric's Quest",
                 "difficulty": "Novice",
                 "members": false,
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Demon Slayer",
                 "difficulty": "Novice",
                 "members": false,
                 "questPoints": 3
                },
                {
                    ...quest_default,
                 "title": "The Corsair Curse",
                 "difficulty": "Intermediate",
                 "members": false,
                },
                {
                    ...quest_default,
                 "title": "Cook's Assistant",
                 "difficulty": "Novice",
                 "members": false,
                 "questPoints": 1
                },
                {
                    ...quest_default,
                 "title": "Black Knights' Fortress",
                 "difficulty": "Intermediate",
                 "members": false,
                 "questPoints": 3
                },
                {
                    ...quest_default,
                 "title": "Below Ice Mountain",
                 "difficulty": "Novice",
                 "members": false,
                 "questPoints": 1
                }
               ]
    };

    const questCompletionStatus = JSON.parse(localStorage.getItem('questCompletionStatus')) || {};

    function updateQuestList() {
        const questListElement = document.getElementById('questList');
        const difficultyFilter = document.getElementById('filterDifficulty').value;
        const membersFilter = document.getElementById('filterMembers').value;
        const questPointsFilter = document.getElementById('filterQuestPoints').value;
        const completionFilter = document.getElementById('filterCompletion').value;
        const searchInput = document.getElementById('searchInput').value.toLowerCase();

        questListElement.innerHTML = '';

        let filteredQuests = questData.quests.filter(quest => {
            const difficultyMatch = difficultyFilter === 'any' || quest.difficulty === difficultyFilter;
            const membersMatch = membersFilter === 'any' || quest.members.toString() === membersFilter;
            let questPointsMatch = questPointsFilter === 'any' || parseInt(quest.questPoints) === parseInt(questPointsFilter);
            if (questPointsFilter === '5+') {
                questPointsMatch = quest.questPoints >= 5;
            }
            const completionMatch = completionFilter === 'any' || (completionFilter === 'completed' && questCompletionStatus[quest.title]) || (completionFilter === 'notCompleted' && !questCompletionStatus[quest.title]);

            const searchMatch = quest.title.toLowerCase().includes(searchInput);

            return difficultyMatch && membersMatch && questPointsMatch && completionMatch && searchMatch;
        });

        if (questPointsFilter !== 'any') {
            filteredQuests.sort((a, b) => a.questPoints - b.questPoints);
        }

        filteredQuests.forEach(quest => {
            const listItem = document.createElement('li');
            listItem.classList.add('list-group-item');
            if (questCompletionStatus[quest.title]) {
                listItem.classList.add('list-group-item-success');
            }
            listItem.textContent = `${quest.title} - Difficulty: ${quest.difficulty}, Members: ${quest.members ? 'Yes' : 'No'}, Quest Points: ${quest.questPoints}`;
            listItem.addEventListener('click', function() {
                questCompletionStatus[quest.title] = !questCompletionStatus[quest.title];
                listItem.classList.toggle('list-group-item-success', questCompletionStatus[quest.title]);
                localStorage.setItem('questCompletionStatus', JSON.stringify(questCompletionStatus));
            });

            questListElement.appendChild(listItem);
        });
    }

    document.getElementById('applyFilters').addEventListener('click', updateQuestList);

    document.getElementById('searchInput').addEventListener('input', updateQuestList);

    updateQuestList();
